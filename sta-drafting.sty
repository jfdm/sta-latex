% --------------------------------------------------------- [ sta-drafting.sty ]
% Module    : sta-drafting.sty
% Copyright : (c) Jan de Muijnck-Hughes
% License   : see LICENSE
% Version   : v2016.03.09
% ---------------------------------------------------------------------- [ EOH ]
\ProvidesPackage{sta-drafting}
% ------------------------------------------------------------- [ For Drafting ]
%% --------------------------------------------------------- [ Globabl Imports ]
\RequirePackage[obeyDraft,
                colorinlistoftodos,
                textsize=small,
                color=orange!20!white,
                linecolor=black]{todonotes}
\RequirePackage{ifdraft}
\RequirePackage{setspace}
%% ---------------------------------------------------------- [ Setup Drafting ]
\ifdraft{%
%% ----------------------------------------------------------- [ Local Imports ]
\RequirePackage{geometry}
\RequirePackage{fancyhdr}
\RequirePackage{lineno}
\RequirePackage{environ}
%% ---------------------------------------------------------------- [ Headings ]
\fancypagestyle{titlepage}{%
 \fancyhf{}
 \renewcommand\headrulewidth{0pt}
 \fancyfoot[R]{Page--\thepage}
 \fancyhead[R]{Draft compiled on \today}
}
\fancypagestyle{normalpage}{%
\fancyhf{}
 \renewcommand\headrulewidth{0pt}
 \fancyhead[R]{Draft compiled on \today}
 \fancyfoot[R]{Page--\thepage}
}
%% ---------------------------------------------------------- [ Line Numbering ]
\renewcommand{\linenumberfont}{\normalfont\scriptsize\bfseries}
\setlength{\linenumbersep}{2mm}
\linenumbers{}
\doublespacing{}
%% ------------------------------------------------------------- [ Page Layout ]
\geometry{%
   asymmetric,
   includeall,
   vmargin=10mm,
   left=10mm,
   rmargin=5mm,
   marginparsep=5mm,
   marginparwidth=55mm
 }
%% ------------------------------------------------------- [ Paragraph Styling ]
\setlength{\parskip}{1.3ex plus 0.2ex minus 0.2ex}
\setlength{\parindent}{0pt}
%% ---------------------------------------------------------- [ End of Styling ]
}{}
%% --------------------------------------------------------- [ Global Commands ]
\newcommand{\addref}{\todo{Add Reference}}

% nasty hack to get spacing to work
\newcommand{\fixtodo}[2][]{%
\todo[caption={#2}, size=\small, #1]{%
\begin{spacing}{.75}#2\end{spacing}}}

\NewEnviron{fncycomment}[1][Comment]{%
\fixtodo[inline, caption={#1}]{%
\begin{minipage}{\linewidth}%
\textbf{\uppercase{#1}}
\BODY{}
\end{minipage}}}

\newcommand{\anote}[2][]{%
\fixtodo{\textbf{\uppercase{#1}}~#2
}}
%% --------------------------------------------------------------------- [ EOS ]
\endinput
%% --------------------------------------------------------------------- [ EOF ]
